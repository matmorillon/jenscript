// JenScript -  JavaScript HTML5/SVG Library
// Product of JenSoftAPI - Visualization Java & JS Libraries
// version : 1.1.9
// Author : Sebastien Janaud 
// Web Site : http://jenscript.io
// Twitter  : http://twitter.com/JenSoftAPI
// Copyright (C) 2008 - 2015 JenScript, product by JenSoftAPI company, France.
// build: 2016-06-22
// All Rights reserved

!function(){JenScript.ZoomBoxMode=function(a){this.mode=a.toLowerCase(),this.isBx=function(){return"x"===this.mode||"bx"===this.mode||"box"===this.mode},this.isBy=function(){return"y"===this.mode||"by"===this.mode||"boy"===this.mode},this.isBxy=function(){return"xy"===this.mode||"bxy"===this.mode||"boxxy"===this.mode}},JenScript.ZoomBoxPlugin=function(a){this._init(a)},JenScript.Model.inheritPrototype(JenScript.ZoomBoxPlugin,JenScript.Plugin),JenScript.Model.addMethods(JenScript.ZoomBoxPlugin,{_init:function(a){a=a||{},a.name="ZoomBox",a.selectable=!0,a.priority=1e3,this.zoomBoxDrawColor=a.zoomBoxDrawColor,this.zoomBoxFillColor=a.zoomBoxFillColor,this.mode=new JenScript.ZoomBoxMode(void 0!==a.mode?a.mode:"xy"),this.speed=void 0!==a.speed?a.speed:"default",this.minimalDelatX=16,this.minimalDeltaY=16,this.drag=!1,this.lockEffect=!1,this.lockZoomingTransaction=!1,this.zoomBoxStartX,this.zoomBoxStartY,this.zoomBoxCurrentX,this.zoomBoxCurrentY,this.zoomFxBoxStartX,this.zoomFxBoxStartY,this.zoomFxBoxCurrentX,this.zoomFxBoxCurrentY,this.boxHistory=[],this.maxHistory=8,this.zoomBack=[],this.boxListeners=[],JenScript.Plugin.call(this,a)},onProjectionRegister:function(){var a=this;this.getProjection().addProjectionListener("boundChanged",function(){a.repaintPlugin()},a.toString())},fireEvent:function(a){for(var b=0;b<this.boxListeners.length;b++){var c=this.boxListeners[b];c.action===a&&c.onEvent(this)}},addBoxListener:function(a,b){var c={action:a,onEvent:b};this.boxListeners[this.boxListeners.length]=c},onPress:function(a,b,c,d){a.preventDefault&&a.preventDefault(),b===JenScript.ViewPart.Device&&this.isLockSelected()&&(this.isLockPassive()||(this.drag=!0,this.processZoomStart(new JenScript.Point2D(c,d))))},processZoomStart:function(a){this.zoomBoxStartX=a.getX(),this.zoomBoxStartY=a.getY(),this.zoomBoxCurrentX=this.zoomBoxStartX,this.zoomBoxCurrentY=this.zoomBoxStartY,this.zoomFxBoxStartX=0,this.zoomFxBoxStartY=0,this.zoomFxBoxCurrentX=0,this.zoomFxBoxCurrentY=0,this.fireEvent("boxStart"),this.lockZoomingTransaction=!0},onRelease:function(a,b){b===JenScript.ViewPart.Device&&(this.drag=!1,this.isLockSelected()&&(this.isLockPassive()||(this.isForwardCondition()?this.processZoomOut():this.isValidateBound()&&this.processZoomIn(),this.repaintPlugin())))},onMove:function(a,b,c,d){b===JenScript.ViewPart.Device&&this.drag&&(this.processZoomBound(new JenScript.Point2D(c,d)),this.repaintPlugin())},processZoomBound:function(a){this.zoomBoxCurrentX=a.getX(),this.zoomBoxCurrentY=a.getY(),this.fireEvent("boxBound")},isValidateBound:function(){if(this.mode.isBxy()){if(this.zoomBoxCurrentX>this.zoomBoxStartX+this.minimalDelatX&&this.zoomBoxCurrentY>this.zoomBoxStartY+this.minimalDeltaY)return!0}else if(this.mode.isBx()){if(this.zoomBoxCurrentX>this.zoomBoxStartX+this.minimalDelatX)return!0}else if(this.mode.isBy()&&this.zoomBoxCurrentY>this.zoomBoxStartY+this.minimalDeltaY)return!0;return!1},isForwardCondition:function(){if(this.mode.isBxy()){if(this.zoomBoxCurrentX<this.zoomBoxStartX||this.zoomBoxCurrentY<this.zoomBoxStartY)return!0}else if(this.mode.isBx()){if(this.zoomBoxCurrentX<this.zoomBoxStartX)return!0}else if(this.mode.isBy()&&this.zoomBoxCurrentY<this.zoomBoxStartY)return!0;return!1},processZoomOut:function(){function a(a,d){setTimeout(function(){var e=c.zoomBack[a];b.bound(e.minX,e.maxX,e.minY,e.maxY),d(a)},20*a)}var b=this.getProjection(),c=this;c.zoomBack.reverse();for(var d=0;d<this.zoomBack.length;d++)a(d,function(a){a===c.zoomBack.length-1&&setTimeout(function(){c.fireEvent("boxFinish"),c.repaintPlugin()},10)});this.fireEvent("boxOut")},processZoomIn:function(){function a(a,b){var c=s*a;console.log(" millis :"+c),setTimeout(function(){t.lockZoomingTransaction=!0;var c=0,d=0,e=0,s=0;t.mode.isBxy()?(c=g+k*a,d=h-l*a,e=i+m*a,s=j-n*a,t.zoomFxBoxStartX=t.zoomBoxStartX-o*a,t.zoomFxBoxStartY=t.zoomBoxStartY-r*a,t.zoomFxBoxCurrentX=t.zoomBoxCurrentX+p*a,t.zoomFxBoxCurrentY=t.zoomBoxCurrentY+q*a):t.mode.isBx()?(c=g+k*a,d=h-l*a,e=f.getMinY(),s=f.getMaxY(),t.zoomFxBoxStartX=t.zoomBoxStartX-o*a,t.zoomFxBoxStartY=0,t.zoomFxBoxCurrentX=t.zoomBoxCurrentX+p*a,t.zoomFxBoxCurrentY=t.getProjection().getPixelHeight()):t.mode.isBy()&&(c=f.getMinX(),d=f.getMaxX(),e=i+m*a,s=j-n*a,t.zoomFxBoxStartX=0,t.zoomFxBoxStartY=t.zoomBoxStartY-r*a,t.zoomFxBoxCurrentX=t.getProjection().getPixelWidth(),t.zoomFxBoxCurrentY=t.zoomBoxCurrentY+q*a),f.bound(c,d,e,s),t.zoomBack[u++]=f.getBounds(),b(a)},c)}this.lockEffect=!0;var b={x:this.zoomBoxStartX,y:this.zoomBoxStartY},c={x:this.zoomBoxCurrentX,y:this.zoomBoxCurrentY},d=this.getProjection().pixelToUser(b),e=this.getProjection().pixelToUser(c),f=this.getProjection(),g=f.minX,h=f.maxX,i=f.minY,j=f.maxY;this.boxHistory[this.boxHistory.length]={minx:g,maxx:h,miny:i,maxy:j};var k=Math.abs(f.minX-d.x)/10,l=Math.abs(f.maxX-e.x)/10,m=Math.abs(f.minY-e.y)/10,n=Math.abs(f.maxY-d.y)/10,o=Math.abs(f.userToPixelX(k)-f.userToPixelX(0)),p=Math.abs(f.userToPixelX(l)-f.userToPixelX(0)),q=Math.abs(f.userToPixelY(m)-f.userToPixelY(0)),r=Math.abs(f.userToPixelY(n)-f.userToPixelY(0)),s=200;"slow"===this.speed&&(s=60),"default"===this.speed&&(s=30),"fast"===this.speed&&(s=10);var t=this;t.zoomBack=[];for(var u=0,v=1;10>=v;v++)a(v,function(a){t.zoomBack[u++]=f.getBounds(),10===a&&(t.lockEffect=!1,t.lockZoomingTransaction=!1,setTimeout(function(){t.fireEvent("boxFinish"),t.repaintPlugin()},10))});this.fireEvent("boxIn")},paintBox:function(a){var b=this.zoomBoxCurrentX-this.zoomBoxStartX,c=this.zoomBoxCurrentY-this.zoomBoxStartY,d=0,e=0,f=0,g=0;this.mode.isBxy()?(d=this.zoomBoxStartX,e=this.zoomBoxStartY,f=b,g=c):this.mode.isBx()?(d=this.zoomBoxStartX,e=0,f=b,g=this.getProjection().getPixelHeight()):this.mode.isBy()&&(d=0,e=this.zoomBoxStartY,f=this.getProjection().getPixelWidth(),g=c);var h=void 0!==this.zoomBoxFillColor?this.zoomBoxFillColor:this.getProjection().getThemeColor(),i=void 0!==this.zoomBoxDrawColor?this.zoomBoxDrawColor:this.getProjection().getThemeColor(),j=(new JenScript.SVGRect).origin(d,e).size(f,g).strokeWidth(.5).stroke(i).fillOpacity(.2).strokeOpacity(.8).fill(h).toSVG();a.insertSVG(j)},paintBoxEffect:function(a){var b=this.zoomFxBoxCurrentX-this.zoomFxBoxStartX,c=this.zoomFxBoxCurrentY-this.zoomFxBoxStartY,d=void 0!==this.zoomBoxFillColor?this.zoomBoxFillColor:this.getProjection().getThemeColor(),e=void 0!==this.zoomBoxDrawColor?this.zoomBoxDrawColor:this.getProjection().getThemeColor(),f=(new JenScript.SVGRect).origin(this.zoomFxBoxStartX,this.zoomFxBoxStartY).size(b,c).strokeWidth(.5).stroke(e).fillOpacity(.2).strokeOpacity(.8).fill(d).toSVG();a.insertSVG(f)},paintPlugin:function(a,b){b===JenScript.ViewPart.Device&&this.lockZoomingTransaction&&(!this.lockEffect&&this.isValidateBound()?this.paintBox(a,b):this.paintBoxEffect(a))},getBoxStartDevicePoint:function(){return new JenScript.Point2D(this.zoomBoxStartX,this.zoomBoxStartY)},getBoxCurrentDevicePoint:function(){return new JenScript.Point2D(this.zoomBoxCurrentX,this.zoomBoxCurrentY)},getBoxStartUserPoint:function(){return this.getProjection().pixelToUser(this.getBoxStartDevicePoint())},getBoxCurrentUserPoint:function(){return this.getProjection().pixelToUser(this.getBoxCurrentDevicePoint())}})}(),function(){JenScript.ZoomBoxSynchronizer=function(a){this.init(a)},JenScript.Model.addMethods(JenScript.ZoomBoxSynchronizer,{init:function(a){this.boxesList=[],this.dispathingEvent=!1;var b=a.boxes;if(!this.dispathingEvent){this.dispathingEvent=!0;for(var c=0;c<b.length;c++){var d=this;b[c].addBoxListener("boxStart",function(a){d.boxStart(a)}),b[c].addBoxListener("boxBound",function(a){d.boxBound(a)}),b[c].addBoxListener("boxIn",function(a){d.boxIn(a)}),b[c].addBoxListener("boxOut",function(a){d.boxOut(a)}),b[c].addBoxListener("boxFinish",function(a){d.boxFinish(a)}),b[c].addPluginListener("lock",function(a){d.pluginSelected(a)},"ZoomBox Synchronizer plugin lock listener"),b[c].addPluginListener("unlock",function(a){d.pluginSelected(a)},"ZoomBox Synchronizer plugin unlock listener"),this.boxesList[this.boxesList.length]=b[c]}this.dispathingEvent=!1}},pluginSelected:function(a){if(!this.dispathingEvent){this.dispathingEvent=!0;for(var b=0;b<this.boxesList.length;b++){var c=this.boxesList[b];c.Id!==a.Id&&(console.log("lock other box"),c.select())}this.dispathingEvent=!1}},pluginUnlockSelected:function(a){if(!this.dispathingEvent){this.dispathingEvent=!0;for(var b=0;b<this.boxesList.length;b++){var c=this.boxesList[b];c.Id!==a.Id&&c.unselect()}this.dispathingEvent=!1}},boxStart:function(a){if(!this.dispathingEvent){this.dispathingEvent=!0;for(var b=0;b<this.boxesList.length;b++){var c=this.boxesList[b];if(c.Id!==a.Id){var d=a.getBoxStartDevicePoint();c.processZoomStart(d),c.repaintPlugin()}}this.dispathingEvent=!1}},boxBound:function(a){if(!this.dispathingEvent){this.dispathingEvent=!0;for(var b=0;b<this.boxesList.length;b++){var c=this.boxesList[b];if(c.Id!==a.Id){var d=a.getBoxCurrentDevicePoint();c.processZoomBound(d),c.repaintPlugin()}}this.dispathingEvent=!1}},boxIn:function(a){if(!this.dispathingEvent){this.dispathingEvent=!0;for(var b=0;b<this.boxesList.length;b++){var c=this.boxesList[b];c.Id!==a.Id&&c.processZoomIn()}this.dispathingEvent=!1}},boxOut:function(a){if(!this.dispathingEvent){this.dispathingEvent=!0;for(var b=0;b<this.boxesList.length;b++){var c=this.boxesList[b];c.Id!==a.Id&&c.processZoomOut()}this.dispathingEvent=!1}},boxFinish:function(){}})}(),function(){JenScript.ZoomLensPlugin=function(a){this._init(a)},JenScript.Model.inheritPrototype(JenScript.ZoomLensPlugin,JenScript.Plugin),JenScript.Model.addMethods(JenScript.ZoomLensPlugin,{_init:function(a){a=a||{},a.name="ZoomLensPlugin",a.selectable=!0,a.priority=1e3,this.zoomInLock=!1,this.zoomOutLock=!1,this.zoomMiliTempo=100,this.factor=30,this.processNature,this.lensListeners=[],this.lensType=void 0!==a.lensType?a.lensType:"LensXY",JenScript.Plugin.call(this,a)},getProcessNature:function(){return this.processNature},onRelease:function(){this.zoomInLock=!1,this.zoomOutLock=!1},addLensListener:function(a,b,c){var d={action:a,onEvent:b,name:c};this.lensListeners[this.lensListeners.length]=d},fireLensEvent:function(a){for(var b=0;b<this.lensListeners.length;b++){var c=this.lensListeners[b];c.action===a&&c.onEvent(this)}},stopZoomIn:function(){this.zoomInLock=!1},stopZoomOut:function(){this.zoomOutLock=!1},startZoomIn:function(a){this.zoomInLock=!0;for(var b=this,c=function(c){setTimeout(function(){b.zoomIn(a)},c*b.zoomMiliTempo)},d=0;10>d;d++)c(d)},startZoomOut:function(a){this.zoomOutLock=!0;for(var b=this,c=function(){setTimeout(function(){b.zoomOut(a)},d*b.zoomMiliTempo)},d=0;10>d;d++)c(d)},zoomIn:function(a){this.processNature=a;var b=this.getProjection(),c=b.getPixelWidth(),d=b.getPixelHeight(),e=this.factor,f=void 0,g=void 0;"ZoomXY"===a?(f={x:c/e,y:d-d/e},g={x:c-c/e,y:d/e}):"ZoomX"===a?(f={x:c/e,y:d},g={x:c-c/e,y:0}):"ZoomY"===a&&(f={x:0,y:d-d/e},g={x:c,y:d/e});var h=b.pixelToUser(f),i=b.pixelToUser(g);"LensXY"==this.lensType?b.bound(h.x,i.x,h.y,i.y):"LensX"===this.lensType?b.bound(h.x,i.x,b.getMinY(),b.getMaxY()):"LensY"===this.lensType&&b.bound(b.getMinX(),b.getMaxX(),h.y,i.y),this.fireLensEvent("zoomIn")},zoomOut:function(a){this.processNature=a;var b=this.getProjection(),c=b.getPixelWidth(),d=b.getPixelHeight(),e=this.factor,f=void 0,g=void 0;"ZoomXY"===a?(f={x:-c/e,y:d+d/e},g={x:c+c/e,y:-d/e}):"ZoomX"===a?(f={x:-c/e,y:d},g={x:c+c/e,y:0}):"ZoomY"===a&&(f={x:0,y:d+d/e},g={x:c,y:-d/e});var h=b.pixelToUser(f),i=b.pixelToUser(g);"LensXY"===this.lensType?b.bound(h.x,i.x,h.y,i.y):"LensX"===this.lensType?b.bound(h.x,i.x,b.getMinY(),b.getMaxY()):"LensY"===this.lensType&&b.bound(b.getMinX(),b.getMaxX(),h.y,i.y),this.fireLensEvent("zoomOut")}})}(),function(){JenScript.ZoomLensSynchronizer=function(a){this.init(a)},JenScript.Model.addMethods(JenScript.ZoomLensSynchronizer,{init:function(a){this.lensList=[],this.dispathingEvent=!1;var b=a.lenses;if(!this.dispathingEvent){this.dispathingEvent=!0;for(var c=0;c<b.length;c++){var d=this;b[c].addLensListener("zoomIn",function(a){d.zoomIn(a)}," Lens synchronizer, zoomIn listener"),b[c].addLensListener("zoomOut",function(a){d.zoomOut(a)}," Lens synchronizer, zoomOut listener"),b[c].addPluginListener("lock",function(a){d.pluginSelected(a)},"Lens Synchronizer plugin lock listener"),b[c].addPluginListener("unlock",function(a){d.pluginSelected(a)},"Lens Synchronizer plugin unlock listener"),this.lensList[this.lensList.length]=b[c]}this.dispathingEvent=!1}},pluginSelected:function(a){if(!this.dispathingEvent){this.dispathingEvent=!0;for(var b=0;b<this.lensList.length;b++){var c=this.lensList[b];c.Id!==a.Id&&c.select()}this.dispathingEvent=!1}},pluginUnlockSelected:function(a){if(!this.dispathingEvent){this.dispathingEvent=!0;for(var b=0;b<this.lensList.length;b++){var c=this.lensList[b];c.Id!==a.Id&&c.unselect()}this.dispathingEvent=!1}},zoomIn:function(a){if(!this.dispathingEvent){this.dispathingEvent=!0;for(var b=0;b<this.lensList.length;b++){var c=this.lensList[b];c.Id!==a.Id&&c.zoomIn(a.getProcessNature())}this.dispathingEvent=!1}},zoomOut:function(a){if(!this.dispathingEvent){this.dispathingEvent=!0;for(var b=0;b<this.lensList.length;b++){var c=this.lensList[b];c.Id!==a.Id&&c.zoomOut(a.getProcessNature())}this.dispathingEvent=!1}}})}(),function(){JenScript.LensPad=function(a){this.___init(a)},JenScript.Model.inheritPrototype(JenScript.LensPad,JenScript.AbstractPlusMinusPadWidget),JenScript.Model.addMethods(JenScript.LensPad,{___init:function(a){a=a||{},a.Id="lens_pad"+JenScript.sequenceId++,a.width=64,a.height=64,a.xIndex=60,a.yIndex=100,JenScript.AbstractPlusMinusPadWidget.call(this,a),this.baseFillColor=JenScript.RosePalette.COALBLACK,this.baseStrokeColor=JenScript.RosePalette.MELON,this.baseStrokeWidth=1,this.controlStrokeColor=JenScript.RosePalette.AEGEANBLUE,this.controlStrokeWidth=1,this.buttonFillColor=JenScript.RosePalette.EMERALD,this.buttonRolloverFillColor=JenScript.RosePalette.MELON,this.buttonStrokeColor=JenScript.RosePalette.FOXGLOWE,this.buttonRolloverStrokeColor=JenScript.RosePalette.MELON,this.buttonStrokeWidth=1},onNorthButtonPress:function(){this.getHost().isLockSelected()&&this.getHost().startZoomIn("ZoomY")},onSouthButtonPress:function(){this.getHost().isLockSelected()&&this.getHost().startZoomOut("ZoomY")},onWestButtonPress:function(){this.getHost().isLockSelected()&&this.getHost().startZoomOut("ZoomX")},onEastButtonPress:function(){this.getHost().isLockSelected()&&this.getHost().startZoomIn("ZoomX")},onRegister:function(){this.attachPluginLockUnlockFactory("Lens Pad widget factory")}})}(),function(){JenScript.LensX=function(a){this.___init(a)},JenScript.Model.inheritPrototype(JenScript.LensX,JenScript.AbstractPlusMinusBarWidget),JenScript.Model.addMethods(JenScript.LensX,{___init:function(a){a=a||{},a.Id="lensX"+JenScript.sequenceId++,a.width=void 0!==a.width?a.width:100,a.height=void 0!==a.height?a.height:16,a.xIndex=void 0!==a.xIndex?a.xIndex:3,a.yIndex=void 0!==a.yIndex?a.yIndex:100,a.barOrientation="Horizontal",JenScript.AbstractPlusMinusBarWidget.call(this,a),this.setOrphanLock(!0)},onButton1Press:function(){this.getHost().isLockSelected()&&this.getHost().startZoomOut("ZoomX")},onButton2Press:function(){this.getHost().isLockSelected()&&this.getHost().startZoomIn("ZoomX")},onRegister:function(){this.attachPluginLockUnlockFactory("LensX widget widget factory")}})}(),function(){JenScript.LensY=function(a){this.___init(a)},JenScript.Model.inheritPrototype(JenScript.LensY,JenScript.AbstractPlusMinusBarWidget),JenScript.Model.addMethods(JenScript.LensY,{___init:function(a){a=a||{},a.Id="LensY"+JenScript.sequenceId++,a.width=void 0!==a.width?a.width:16,a.height=void 0!==a.height?a.height:100,a.xIndex=void 0!==a.xIndex?a.xIndex:100,a.yIndex=void 0!==a.yIndex?a.yIndex:2,a.barOrientation="Vertical",JenScript.AbstractPlusMinusBarWidget.call(this,a),this.setOrphanLock(!0)},onButton1Press:function(){this.getHost().isLockSelected()&&this.getHost().startZoomIn("ZoomY")},onButton2Press:function(){this.getHost().isLockSelected()&&this.getHost().startZoomOut("ZoomY")},onRegister:function(){this.attachPluginLockUnlockFactory("LensY widget widget factory")}})}(),function(){JenScript.ZoomWheelMode=function(a){this.mode=a.toLowerCase(),this.isWx=function(){return"x"===this.mode||"wx"===this.mode||"wheelx"===this.mode},this.isWy=function(){return"y"===this.mode||"wy"===this.mode||"wheely"===this.mode},this.isWxy=function(){return"xy"===this.mode||"wxy"===this.mode||"wheelxy"===this.mode}},JenScript.ZoomWheelPlugin=function(a){this._init(a)},JenScript.Model.inheritPrototype(JenScript.ZoomWheelPlugin,JenScript.Plugin),JenScript.Model.addMethods(JenScript.ZoomWheelPlugin,{_init:function(a){a=a||{},a.name="ZoomWheelPlugin",a.selectable=!1,a.priority=1e3,this.mode=new JenScript.ZoomWheelMode(void 0!==a.mode?a.mode:"xy"),this.multiplier=void 0!==a.multiplier?a.multiplier:2,this.factor=60,this.wheelListeners=[],JenScript.Plugin.call(this,a)},addWheelListener:function(a,b,c){var d={action:a,onEvent:b,name:c};this.wheelListeners[this.wheelListeners.length]=d},fireWheelEvent:function(a){for(var b=0;b<this.wheelListeners.length;b++){var c=this.wheelListeners[b];c.action===a&&c.onEvent(this)}},onPress:function(){this.stopWheel=!0},onRelease:function(){this.stopWheel=!1},onWheel:function(a){a.preventDefault();var b=this,c=function(a){setTimeout(function(){b.zoomIn()},100*a)},d=function(a){setTimeout(function(){b.zoomOut()},100*a)},e=function(a){if(0>a)for(var b=-a,e=0;b>e;e++)c(e);else for(var b=a,e=0;b>e;e++)d(e)};a.deltaY&&e(a.deltaY*this.multiplier)},zoomIn:function(){if(!this.stopWheel){var a=this.getProjection().getPixelWidth(),b=this.getProjection().getPixelHeight(),c=void 0,d=void 0;this.mode.isWxy()?(c={x:a/this.factor,y:b-b/this.factor},d={x:a-a/this.factor,y:b/this.factor}):this.mode.isWx()?(c={x:a/this.factor,y:b},d={x:a-a/this.factor,y:0}):this.mode.isWy()&&(c={x:0,y:b-b/this.factor},d={x:a,y:b/this.factor});var e=this.getProjection().pixelToUser(c),f=this.getProjection().pixelToUser(d);this.getProjection().bound(e.x,f.x,e.y,f.y),this.fireWheelEvent("zoomIn")}},zoomOut:function(){if(!this.stopWheel){var a=this.getProjection().getPixelWidth(),b=this.getProjection().getPixelHeight(),c=void 0,d=void 0;this.mode.isWxy()?(c={x:-a/this.factor,y:b+b/this.factor},d={x:a+a/this.factor,y:-b/this.factor}):this.mode.isWx()?(c={x:-a/this.factor,y:b},d={x:a+a/this.factor,y:0}):this.mode.isWy()&&(c={x:0,y:b+b/this.factor},d={x:a,y:-b/this.factor});var e=this.getProjection().pixelToUser(c),f=this.getProjection().pixelToUser(d);this.getProjection().bound(e.x,f.x,e.y,f.y),this.fireWheelEvent("zoomOut")}}})}(),function(){JenScript.ZoomWheelSynchronizer=function(a){this.init(a)},JenScript.Model.addMethods(JenScript.ZoomWheelSynchronizer,{init:function(a){this.wheelList=[],this.dispathingEvent=!1;var b=a.wheels;if(!this.dispathingEvent){this.dispathingEvent=!0;for(var c=0;c<b.length;c++){var d=this;b[c].addWheelListener("zoomIn",function(a){d.zoomIn(a)}," Wheel synchronizer, zoomIn listener"),b[c].addWheelListener("zoomOut",function(a){d.zoomOut(a)}," Wheel synchronizer, zoomOut listener"),this.wheelList[this.wheelList.length]=b[c]}this.dispathingEvent=!1}},pluginSelected:function(a){if(!this.dispathingEvent){this.dispathingEvent=!0;for(var b=0;b<this.wheelList.length;b++){var c=this.wheelList[b];c.Id!==a.Id&&c.select()}this.dispathingEvent=!1}},pluginUnlockSelected:function(a){if(!this.dispathingEvent){this.dispathingEvent=!0;for(var b=0;b<this.wheelList.length;b++){var c=this.wheelList[b];c.Id!==a.Id&&c.unselect()}this.dispathingEvent=!1}},zoomIn:function(a){if(!this.dispathingEvent){this.dispathingEvent=!0;for(var b=0;b<this.wheelList.length;b++){var c=this.wheelList[b];c.Id!==a.Id&&c.zoomIn()}this.dispathingEvent=!1}},zoomOut:function(a){if(!this.dispathingEvent){this.dispathingEvent=!0;for(var b=0;b<this.wheelList.length;b++){var c=this.wheelList[b];c.Id!==a.Id&&c.zoomOut()}this.dispathingEvent=!1}}})}();